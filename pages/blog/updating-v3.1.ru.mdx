---
title: Переход на Tgsnake Wayang Kulit
description: Информация, которую следует учесть перед обновлением до версии v3
date: Август 13, 2023
banner: /images/upgrade_to_v3.jpg
---

import Link from 'next/link';

<Link className="text-sm font-semibold cursor-pointer" href="/blog">
  ← Вернуться в Блог
</Link>

# Переход на Tgsnake Wayang Kulit

<div className="flex items-center mt-2">
  <p className="font-light mr-2">Август 18, 2023</p>
  <p className="font-semibold cursor-pointer">
    <a href="https://github.com/butthx" target="_blank">
      от butthx
    </a>
  </p>
</div>

![banner](/images/upgrade_to_v3.jpg)

В предыдущем посте мы объявили о выпуске версии v3 tgsnake с кодовым именем `wayang kulit`. Теперь в этом посте мы объявим о важных изменениях перед переходом с v2 на v3.

> v2 не обновлялась с момента выпуска v3, поэтому давайте перейдем на v3

## Изменение вашего кода v2

Поскольку v3 полностью переписана по сравнению с v2, у нее есть существенные различия в стиле кода. Например, некоторые обработчики событий в v2 обновлены следующим образом:

```js
Message {
  chat : {}
  from : {}
  text : ''
}
```

Теперь они будут выглядеть как Bot API:

```js
Update {
  message : {
    chat: {}
    from: {}
    text: ''
  }
}
```

Поэтому ваш код v2 полностью нарушен, и вам придется переписать его снова.

### Другие возвращаемые значения

Да, снова касательно изменений JSON, возвращаемых в результатах. Эти изменения в JSON могут поломать ваш код в v3. Мы пытаемся сделать JSON в стиле Bot API, чтобы он был легким для понимания и мог использоваться в качестве справки для других разработчиков.

### Отсутствующие функции

Поскольку это все еще в разработке (альфа-версия), многие функции еще не доступны, но вы можете вызывать Raw API.

### Измененный файл конфигурации

Мы полностью переработали файл конфигурации. Мы обнаружили, что файл конфигурации v2 был неэффективен и запутанным, поэтому мы провели полную переработку. Но не волнуйтесь, строковые сессии в v2 все еще могут использоваться в v3. Но не для файла сессии. Пожалуйста, преобразуйте в строковую сессию перед миграцией!

## Как переходить?

Переход довольно прост, просто установите tgsnake v3 через npm или yarn.

```bash
yarn add tgsnake@alpha
```

v3, на момент выпуска этого поста, все еще находится в альфа-версии.